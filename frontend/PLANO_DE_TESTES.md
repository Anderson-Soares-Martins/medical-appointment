# PLANO DE TESTES - Sistema de Agendamento de Consultas M√©dicas

## üìã VIS√ÉO GERAL

Este plano de testes cobre todos os casos de uso do sistema de agendamento de consultas m√©dicas, garantindo cobertura completa dos fluxos principais, alternativos e de exce√ß√£o.

## üéØ OBJETIVOS

-   **Cobertura Completa**: Todos os casos de uso possuem ao menos um caso de teste
-   **Automatiza√ß√£o**: Testes de unidade, integra√ß√£o e sistema
-   **Qualidade**: Garantir funcionamento correto de todas as funcionalidades

## üìä CASOS DE USO E COBERTURA

### UC01 - AUTENTICA√á√ÉO E AUTORIZA√á√ÉO

#### CT001 - Login com Credenciais V√°lidas (Fluxo Principal)

-   **Pr√©-condi√ß√µes**: Usu√°rio cadastrado no sistema
-   **Passos**:
    1. Acessar p√°gina de login
    2. Inserir email v√°lido
    3. Inserir senha v√°lida
    4. Clicar em "Entrar"
-   **Resultado Esperado**: Redirecionamento para dashboard
-   **Tipo**: Sistema ‚úÖ

#### CT002 - Registro de Novo Usu√°rio (Fluxo Alternativo)

-   **Pr√©-condi√ß√µes**: Email n√£o cadastrado
-   **Passos**:
    1. Acessar p√°gina de registro
    2. Preencher dados v√°lidos
    3. Selecionar role (PATIENT/DOCTOR)
    4. Clicar em "Cadastrar"
-   **Resultado Esperado**: Conta criada e login autom√°tico
-   **Tipo**: Sistema ‚úÖ

#### CT003 - Login com Credenciais Inv√°lidas (Fluxo de Exce√ß√£o)

-   **Pr√©-condi√ß√µes**: Sistema dispon√≠vel
-   **Passos**:
    1. Acessar p√°gina de login
    2. Inserir credenciais inv√°lidas
    3. Clicar em "Entrar"
-   **Resultado Esperado**: Mensagem de erro
-   **Tipo**: Sistema ‚úÖ

#### CT004 - Logout do Sistema

-   **Pr√©-condi√ß√µes**: Usu√°rio logado
-   **Passos**:
    1. Clicar no menu do usu√°rio
    2. Selecionar "Sair"
-   **Resultado Esperado**: Redirecionamento para p√°gina inicial
-   **Tipo**: Integra√ß√£o

#### CT005 - Acesso a P√°gina Protegida sem Autentica√ß√£o

-   **Pr√©-condi√ß√µes**: Usu√°rio n√£o logado
-   **Passos**:
    1. Tentar acessar /dashboard diretamente
-   **Resultado Esperado**: Redirecionamento para login
-   **Tipo**: Integra√ß√£o

### UC02 - GEST√ÉO DE PERFIL

#### CT006 - Visualizar Perfil do Usu√°rio (Fluxo Principal)

-   **Pr√©-condi√ß√µes**: Usu√°rio logado
-   **Passos**:
    1. Navegar para p√°gina de configura√ß√µes
    2. Verificar dados do perfil
-   **Resultado Esperado**: Dados corretos exibidos
-   **Tipo**: Integra√ß√£o

#### CT007 - Atualizar Dados do Perfil (Fluxo Alternativo)

-   **Pr√©-condi√ß√µes**: Usu√°rio logado
-   **Passos**:
    1. Navegar para configura√ß√µes
    2. Alterar nome/especialidade
    3. Salvar altera√ß√µes
-   **Resultado Esperado**: Dados atualizados com sucesso
-   **Tipo**: Integra√ß√£o

#### CT008 - Troca de Senha com Senha Incorreta (Fluxo de Exce√ß√£o)

-   **Pr√©-condi√ß√µes**: Usu√°rio logado
-   **Passos**:
    1. Navegar para configura√ß√µes
    2. Inserir senha atual incorreta
    3. Inserir nova senha
    4. Tentar salvar
-   **Resultado Esperado**: Erro de senha atual incorreta
-   **Tipo**: Integra√ß√£o

#### CT009 - Troca de Senha com Sucesso

-   **Pr√©-condi√ß√µes**: Usu√°rio logado
-   **Passos**:
    1. Navegar para configura√ß√µes
    2. Inserir senha atual correta
    3. Inserir nova senha v√°lida
    4. Salvar
-   **Resultado Esperado**: Senha alterada com sucesso
-   **Tipo**: Integra√ß√£o

### UC03 - AGENDAMENTO DE CONSULTAS

#### CT010 - Agendar Consulta com M√©dico Dispon√≠vel (Fluxo Principal)

-   **Pr√©-condi√ß√µes**: Paciente logado, m√©dicos dispon√≠veis
-   **Passos**:
    1. Navegar para nova consulta
    2. Selecionar m√©dico
    3. Escolher data/hora dispon√≠vel
    4. Confirmar agendamento
-   **Resultado Esperado**: Consulta agendada com sucesso
-   **Tipo**: Sistema ‚úÖ

#### CT011 - Buscar M√©dicos por Especialidade (Fluxo Alternativo)

-   **Pr√©-condi√ß√µes**: Paciente logado
-   **Passos**:
    1. Acessar p√°gina de m√©dicos
    2. Filtrar por especialidade
    3. Visualizar resultados
-   **Resultado Esperado**: Lista filtrada de m√©dicos
-   **Tipo**: Sistema ‚úÖ

#### CT012 - Tentar Agendar em Hor√°rio Indispon√≠vel (Fluxo de Exce√ß√£o)

-   **Pr√©-condi√ß√µes**: Paciente logado
-   **Passos**:
    1. Tentar agendar em hor√°rio ocupado
    2. Confirmar agendamento
-   **Resultado Esperado**: Erro de conflito de hor√°rio
-   **Tipo**: Sistema ‚úÖ

#### CT013 - Visualizar Disponibilidade de M√©dico

-   **Pr√©-condi√ß√µes**: Sistema com dados
-   **Passos**:
    1. Selecionar m√©dico
    2. Escolher data
    3. Verificar hor√°rios dispon√≠veis
-   **Resultado Esperado**: Hor√°rios livres exibidos
-   **Tipo**: Integra√ß√£o

### UC04 - GEST√ÉO DE CONSULTAS

#### CT014 - Visualizar Lista de Consultas (Fluxo Principal)

-   **Pr√©-condi√ß√µes**: Usu√°rio com consultas agendadas
-   **Passos**:
    1. Navegar para p√°gina de consultas
    2. Verificar lista
-   **Resultado Esperado**: Consultas exibidas corretamente
-   **Tipo**: Sistema ‚úÖ

#### CT015 - Cancelar Consulta Agendada (Fluxo Alternativo)

-   **Pr√©-condi√ß√µes**: Consulta agendada
-   **Passos**:
    1. Acessar lista de consultas
    2. Clicar em cancelar
    3. Confirmar cancelamento
-   **Resultado Esperado**: Consulta cancelada
-   **Tipo**: Sistema ‚úÖ

#### CT016 - Tentar Cancelar Consulta J√° Realizada (Fluxo de Exce√ß√£o)

-   **Pr√©-condi√ß√µes**: Consulta com status COMPLETED
-   **Passos**:
    1. Tentar cancelar consulta finalizada
-   **Resultado Esperado**: Erro de opera√ß√£o inv√°lida
-   **Tipo**: Sistema ‚úÖ

#### CT017 - Filtrar Consultas por Status/Data

-   **Pr√©-condi√ß√µes**: M√∫ltiplas consultas
-   **Passos**:
    1. Aplicar filtros na lista
    2. Verificar resultados
-   **Resultado Esperado**: Lista filtrada corretamente
-   **Tipo**: Integra√ß√£o

### UC05 - DASHBOARD E ESTAT√çSTICAS

#### CT018 - Visualizar Dashboard com Estat√≠sticas (Fluxo Principal)

-   **Pr√©-condi√ß√µes**: Usu√°rio logado com dados
-   **Passos**:
    1. Acessar dashboard
    2. Verificar estat√≠sticas
-   **Resultado Esperado**: Dados estat√≠sticos corretos
-   **Tipo**: Integra√ß√£o

#### CT019 - Navegar entre Se√ß√µes do Dashboard (Fluxo Alternativo)

-   **Pr√©-condi√ß√µes**: Usu√°rio logado
-   **Passos**:
    1. Usar navega√ß√£o lateral
    2. Acessar diferentes se√ß√µes
-   **Resultado Esperado**: Navega√ß√£o funcional
-   **Tipo**: Integra√ß√£o

#### CT020 - Acesso ao Dashboard sem Dados (Fluxo de Exce√ß√£o)

-   **Pr√©-condi√ß√µes**: Usu√°rio novo sem consultas
-   **Passos**:
    1. Acessar dashboard
-   **Resultado Esperado**: Estado vazio exibido
-   **Tipo**: Integra√ß√£o

### UC06 - FUNCIONALIDADES M√âDICAS

#### CT021 - Atualizar Status de Consulta (M√©dico) (Fluxo Principal)

-   **Pr√©-condi√ß√µes**: M√©dico logado com consultas
-   **Passos**:
    1. Acessar consultas do dia
    2. Atualizar status para COMPLETED
    3. Adicionar observa√ß√µes
-   **Resultado Esperado**: Status atualizado
-   **Tipo**: Integra√ß√£o

#### CT022 - Visualizar Lista de Pacientes (Fluxo Alternativo)

-   **Pr√©-condi√ß√µes**: M√©dico logado
-   **Passos**:
    1. Navegar para p√°gina de pacientes
    2. Visualizar lista
-   **Resultado Esperado**: Pacientes listados
-   **Tipo**: Integra√ß√£o

#### CT023 - Paciente Tentando Atualizar Status (Fluxo de Exce√ß√£o)

-   **Pr√©-condi√ß√µes**: Paciente logado
-   **Passos**:
    1. Tentar acessar funcionalidade de m√©dico
-   **Resultado Esperado**: Acesso negado
-   **Tipo**: Integra√ß√£o

#### CT024 - Visualizar Consultas do Dia

-   **Pr√©-condi√ß√µes**: M√©dico com consultas hoje
-   **Passos**:
    1. Acessar "Consultas de Hoje"
    2. Verificar lista
-   **Resultado Esperado**: Consultas do dia listadas
-   **Tipo**: Integra√ß√£o

## üîß AUTOMATIZA√á√ÉO DOS TESTES

### Testes de Sistema (9 Obrigat√≥rios)

#### Caso de Uso 1: Autentica√ß√£o

1. **CT001** - Login com Credenciais V√°lidas (Fluxo Principal)
2. **CT002** - Registro de Novo Usu√°rio (Fluxo Alternativo)
3. **CT003** - Login com Credenciais Inv√°lidas (Fluxo de Exce√ß√£o)

#### Caso de Uso 2: Agendamento de Consultas

4. **CT010** - Agendar Consulta com M√©dico Dispon√≠vel (Fluxo Principal)
5. **CT011** - Buscar M√©dicos por Especialidade (Fluxo Alternativo)
6. **CT012** - Tentar Agendar em Hor√°rio Indispon√≠vel (Fluxo de Exce√ß√£o)

#### Caso de Uso 3: Gest√£o de Consultas

7. **CT014** - Visualizar Lista de Consultas (Fluxo Principal)
8. **CT015** - Cancelar Consulta Agendada (Fluxo Alternativo)
9. **CT016** - Tentar Cancelar Consulta J√° Realizada (Fluxo de Exce√ß√£o)

### Testes de Integra√ß√£o

-   Integra√ß√£o Frontend + Backend API
-   Integra√ß√£o Backend + Banco de Dados
-   Integra√ß√£o entre Componentes React
-   Fluxos de autentica√ß√£o JWT
-   Valida√ß√µes de dados

### Testes de Unidade

-   Componentes React isolados
-   Hooks customizados
-   Services e APIs
-   Fun√ß√µes de valida√ß√£o
-   Utilit√°rios

## üìä COBERTURA DE TESTES

| Tipo                 | Quantidade | Status           |
| -------------------- | ---------- | ---------------- |
| Casos de Teste       | 24         | ‚úÖ Planejados    |
| Testes de Sistema    | 9          | üöß A implementar |
| Testes de Integra√ß√£o | 15         | üöß A implementar |
| Testes de Unidade    | ~50        | üöß A implementar |

## üõ†Ô∏è FERRAMENTAS

-   **Cypress**: Testes E2E e de Sistema
-   **Jest**: Testes de Unidade
-   **React Testing Library**: Testes de Componentes
-   **MSW**: Mock Service Worker para APIs
-   **Cypress Code Coverage**: Cobertura de c√≥digo

## üìù EXECU√á√ÉO

```bash
# Instalar depend√™ncias
npm install --save-dev cypress @cypress/code-coverage nyc

# Executar testes E2E
npm run cypress:open

# Executar testes unit√°rios
npm test

# Executar todos os testes
npm run test:all

# Gerar relat√≥rio de cobertura
npm run coverage
```

## ‚úÖ CRIT√âRIOS DE ACEITA√á√ÉO

-   ‚úÖ Todos os casos de uso cobertos
-   ‚úÖ M√≠nimo 9 testes de sistema implementados
-   ‚úÖ Fluxos principal, alternativo e exce√ß√£o testados
-   ‚úÖ Testes automatizados funcionais
-   ‚úÖ Cobertura de c√≥digo > 80%
